---
// Bento Grid Dashboard - Data-driven widget grid
// Empty state waiting for API data injection
interface WidgetData {
  id: string;
  title: string;
  content?: string;
  value?: string | number;
  icon?: string;
  colSpan?: 1 | 2;
  rowSpan?: 1 | 2;
}

interface Props {
  widgets?: WidgetData[];
}

const { widgets = [] } = Astro.props;
---

<section class="bg-[#2E3440] py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl font-bold text-[#E5E9F0] mb-12">Dashboard</h2>

    {widgets.length === 0 ? (
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {/* Placeholder widgets showing structure - ready for data injection */}
        
        {/* Connect/Status Widget */}
        <div class="bg-[#3B4252] border border-[#434C5E] rounded-lg p-6 hover:border-[#88C0D0] transition-colors duration-200">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-[#E5E9F0]">Connect</h3>
            <span class="text-2xl">ğŸ”—</span>
          </div>
          <p class="text-[#D8DEE9] text-sm">Availability status loading...</p>
          <p class="text-[#88C0D0] text-xs mt-4 opacity-75">[Data placeholder]</p>
        </div>

        {/* Location Widget */}
        <div class="bg-[#3B4252] border border-[#434C5E] rounded-lg p-6 hover:border-[#88C0D0] transition-colors duration-200">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-[#E5E9F0]">Location</h3>
            <span class="text-2xl">ğŸ“</span>
          </div>
          <p class="text-[#D8DEE9] text-sm">Current location data loading...</p>
          <p class="text-[#88C0D0] text-xs mt-4 opacity-75">[Data placeholder]</p>
        </div>

        {/* Stats Widget */}
        <div class="bg-[#3B4252] border border-[#434C5E] rounded-lg p-6 hover:border-[#88C0D0] transition-colors duration-200">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-[#E5E9F0]">Stats</h3>
            <span class="text-2xl">ğŸ“Š</span>
          </div>
          <p class="text-[#D8DEE9] text-sm">Coding languages & commit stats loading...</p>
          <p class="text-[#88C0D0] text-xs mt-4 opacity-75">[Data placeholder]</p>
        </div>
      </div>
    ) : (
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {widgets.map((widget) => (
          <div
            class={`bg-[#3B4252] border border-[#434C5E] rounded-lg p-6 hover:border-[#88C0D0] transition-colors duration-200 ${
              widget.colSpan === 2 ? 'md:col-span-2' : ''
            } ${widget.rowSpan === 2 ? 'md:row-span-2' : ''}`}
          >
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold text-[#E5E9F0]">{widget.title}</h3>
              {widget.icon && <span class="text-2xl">{widget.icon}</span>}
            </div>
            {widget.value && (
              <p class="text-3xl font-bold text-[#88C0D0] mb-2">{widget.value}</p>
            )}
            {widget.content && (
              <p class="text-[#D8DEE9] text-sm">{widget.content}</p>
            )}
          </div>
        ))}
      </div>
    )}
  </div>
</section>
